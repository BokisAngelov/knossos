{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container mx-auto py-8 px-4">
  <div class="">
    <h1 class="text-3xl font-bold page-header-color mb-1">Welcome {{ user_profile.name|title }},</h1>
    <p class="text-md font-semibold text-purple mb-4">System Overview and Management</p>
    
    <!-- Analytics Cards -->
    <div class="grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-5 gap-4 mb-8 bg-white">
      <div class="bg-white p-4">
        <p class="text-xl text-header-grey font-bold">Total Bookings</p>
        <p class="text-3xl font-bold text-purple">{{ booking_count }}</p>
      </div>
      <div class="bg-white p-4">
        <p class="text-xl text-header-grey font-bold">Total Excursions</p>
        <p class="text-3xl font-bold text-purple">{{ total_excursions_count }}</p>
      </div>
      <div class="bg-white p-4">
        <p class="text-xl text-header-grey font-bold">Active Excursions</p>
        <p class="text-3xl font-bold text-purple">{{ active_excursions_count }}</p>
      </div>
      <div class="bg-white p-4">
        <p class="text-xl text-header-grey font-bold">Total Clients</p>
        <p class="text-3xl font-bold text-purple">{{ clients_count }}</p>
      </div>
      <div class="bg-white p-4">
        <p class="text-xl text-header-grey font-bold">Revenue</p>
        <p class="text-3xl font-bold text-purple">â‚¬{{ total_revenue }}</p>
      </div>
      
    </div>
    
    <!-- Management Sections -->
    <div class="space-y-8">
      <!-- Excursion Management Section -->
      <div>
        <h2 class="text-2xl font-semibold text-yellow mb-4">Excursion Management</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
          <!-- Excursions -->
          <div class="bg-white p-5 rounded-lg relative">
            <div class="flex items-center mb-4">
              <svg class="h-6 w-7 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 21.76"><path d="M24.71,1.62L16.62,0s0,0,0,0h0s0,0,0,0c-.01,0-.03,0-.04,0,0,0,0,0-.01,0,0,0,0,0-.01,0,0,0-.02,0-.03,0,0,0,0,0,0,0-.02,0-.03,0-.05,0,0,0,0,0-.01,0-.01,0-.03,0-.04.01,0,0,0,0,0,0l-7.99,3.2-4.09-.82c-.2-.04-.39.09-.43.29-.04.2.09.39.29.43l3.9.78v5.69l-3.28-.66s0,0,0,0c-.13-.03-.26-.04-.39-.04-1.09,0-1.98.89-1.98,1.98,0,.95.67,1.76,1.6,1.95,0,0,0,0,0,0l4.06.81v2.74l-2.13-.43.33-.33c.14-.14.14-.37,0-.52-.14-.14-.37-.14-.52,0l-.55.55-.55-.55c-.14-.14-.37-.14-.52,0-.14.14-.14.37,0,.52l.55.55-.55.55c-.14.14-.14.37,0,.52.07.07.17.11.26.11s.19-.04.26-.11l.55-.55.55.55c.07.07.17.11.26.11s.19-.04.26-.11c.13-.13.14-.33.04-.47l1.76.35v3.82l-7.36-1.47V2.43l1.99.4c.2.04.39-.09.43-.29.04-.2-.09-.39-.29-.43L.44,1.62c-.11-.02-.22,0-.3.08-.08.07-.13.17-.13.28v17.8c0,.17.12.32.29.36l8.09,1.62s0,0,0,0h0s0,0,0,0c0,0,.02,0,.03,0,.01,0,.02,0,.04,0s.02,0,.04,0c0,0,.01,0,.02,0,0,0,.01,0,.02,0,0,0,.01,0,.02,0,0,0,0,0,.01,0,0,0,.01,0,.02,0,0,0,0,0,0,0h0s0,0,0,0l7.98-3.19,7.98,1.6c.11.02.22,0,.3-.08.08-.07.13-.17.13-.28V1.98c0-.17-.12-.32-.29-.36ZM8.09,12.89l-3.92-.78s0,0,0,0c0,0,0,0,0,0-.58-.11-1.01-.63-1.01-1.23,0-.69.56-1.25,1.25-1.25.08,0,.17,0,.25.03,0,0,0,0,0,0l3.42.68v2.55h0ZM8.82,13.59h0l4.02-1.61s0,0,0,0c.15-.06.31-.09.47-.09.69,0,1.25.56,1.25,1.25,0,.52-.31.97-.79,1.16,0,0,0,0,0,0,0,0,0,0,0,0l-4.94,1.98v-2.7h0ZM16.18,17.91l-7.36,2.94v-3.78h0l5.22-2.09s0,0,0,0c.76-.3,1.25-1.03,1.25-1.85,0-1.09-.89-1.98-1.98-1.98-.26,0-.51.05-.74.14,0,0,0,0,0,0h0s0,0,0,0c0,0,0,0,0,0l-3.74,1.5v-2.51l7.36-2.94v10.57h0ZM16.18,6.56l-7.36,2.94V3.85l7.36-2.94v5.65ZM24.27,19.33l-7.36-1.47V7.25l3.61.72s.01,0,.02,0c0,0,0,0,.01,0,.01,0,.03,0,.04,0s.03,0,.04,0c0,0,0,0,0,0,.01,0,.03,0,.04,0,.01,0,.03,0,.04-.01,0,0,0,0,0,0,.01,0,.03-.01.04-.02,0,0,0,0,0,0,.01,0,.02-.01.03-.02,0,0,0,0,0,0,.01,0,.02-.02.03-.03,0,0,0,0,0,0,0,0,.02-.02.03-.03,0,0,0,0,0,0,0-.01.02-.02.03-.04,0,0,0,0,0,0l1.38-2.4c.19-.31.28-.66.28-1.02,0-1.09-.89-1.98-1.98-1.98s-1.98.89-1.98,1.98c0,.36.1.71.28,1.02l.98,1.7-2.96-.59V.81l7.36,1.47v17.05ZM19.52,5.03s0,0,0,0c-.12-.19-.18-.42-.18-.65,0-.69.56-1.25,1.25-1.25s1.25.56,1.25,1.25c0,.23-.06.45-.18.65,0,0,0,0,0,0l-1.07,1.85-1.07-1.85Z" style="fill:#e6b655;"/><path d="M20.53,14.66l-1.21-3.88c-.05-.15-.18-.25-.34-.26,0,0,0,0,0,0-.15,0-.29.1-.34.24l-1.21,3.4c-.04.1-.03.21.03.3.05.09.14.16.25.18l.91.18v1.32c0,.2.16.37.37.37s.37-.16.37-.37v-1.17l.79.16s.05,0,.07,0c.1,0,.2-.04.27-.12.09-.1.12-.23.08-.35ZM19.04,14.16s0,0,0,0l-.79-.16.7-1.97.7,2.25-.61-.12Z" style="fill:#e6b655;"/><path d="M23.77,12.23l-1.21-3.88c-.05-.15-.18-.25-.34-.26-.16,0-.3.09-.35.24l-1.21,3.4c-.04.1-.03.21.03.3.05.09.14.16.25.18l.91.18v1.32c0,.2.16.37.37.37s.37-.16.37-.37v-1.17l.79.16s.05,0,.07,0c.1,0,.2-.04.27-.12.09-.1.12-.23.08-.35ZM22.27,11.74s0,0,0,0l-.79-.16.7-1.97.7,2.25-.62-.12Z" style="fill:#e6b655;"/></svg>
              
              <h3 class="text-lg font-bold text-header-grey">Excursions</h3>
              <a id="sync-excursions-btn" href="#" class="absolute top-2 right-2">
                <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" viewBox="0 0 26.82 26.82"><circle cx="13.41" cy="13.41" r="13.41" style="fill:#2196f3;"/><path d="M12.32,7.32c.23.09.41.26.51.48s.11.48.02.71l-1.21,3.19c-.09.24-.27.42-.48.51s-.47.11-.71.02c-.48-.18-.72-.71-.54-1.19l.52-1.37c-2.12,1.41-2.97,4.2-1.89,6.59.51,1.13,1.4,2.05,2.51,2.59h0c.46.22.65.78.43,1.23-.1.2-.26.35-.45.44-.24.11-.53.11-.78-.01-1.5-.73-2.7-1.97-3.39-3.49-1.45-3.21-.32-6.94,2.5-8.85l-.88-.33c-.48-.18-.72-.71-.54-1.19.18-.48.71-.72,1.19-.54" style="fill:#fff;"/><path d="M14.5,19.5c-.23-.09-.41-.26-.51-.48s-.11-.48-.02-.71l1.21-3.19c.09-.24.27-.42.48-.51s.47-.11.71-.02c.48.18.72.71.54,1.19l-.52,1.37c2.12-1.41,2.97-4.2,1.89-6.59-.51-1.13-1.4-2.05-2.51-2.59h0c-.46-.22-.65-.78-.43-1.23.1-.2.26-.35.45-.44.24-.11.53-.11.78.01,1.5.73,2.7,1.97,3.39,3.49,1.45,3.21.32,6.94-2.5,8.85l.88.33c.48.18.72.71.54,1.19-.18.48-.71.72-1.19.54" style="fill:#fff;"/></svg>                               
              </a>
            </div>
            
            <ul class="space-y-2">
              <li><a href="{% url 'admin_excursions' %}" class="text-blue font-semibold hover:opacity-80">View All Excursions</a></li>
              <li><a href="{% url 'excursion_create' %}" class="text-blue font-semibold hover:opacity-80">Add New Excursion</a></li>
            </ul>
          </div>

          <!-- Analytics -->
          <div class="bg-white p-5 rounded-lg">
            <div class="flex items-center mb-4">
              <svg class="h-6 w-7 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#e6b655" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="12" y1="20" x2="12" y2="10"></line>
                <line x1="18" y1="20" x2="18" y2="4"></line>
                <line x1="6" y1="20" x2="6" y2="16"></line>
              </svg>
              <h3 class="text-lg font-bold text-header-grey">Analytics</h3>
            </div>
            <ul class="space-y-2">
              <li><a href="{% url 'excursion_analytics' %}" class="text-blue font-semibold hover:opacity-80">Excursion Analytics</a></li>
              <li><a href="{% url 'revenue_dashboard' %}" class="text-blue font-semibold hover:opacity-80">Revenue Dashboard</a></li>
            </ul>
          </div>
          
          <!-- Availability -->
          <div class="bg-white p-5 rounded-lg">
            <div class="flex items-center mb-4">
              <svg class="h-6 w-7 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25.22 25.22"><path d="M11.05,1.15C5.58,1.15,1.15,5.58,1.15,11.05s4.43,9.9,9.9,9.9c.29,0,.52.23.52.52s-.23.52-.52.52C5,21.98.11,17.09.11,11.05S5,.11,11.05.11s10.94,4.9,10.94,10.94c0,.29-.23.52-.52.52s-.52-.23-.52-.52c0-5.46-4.43-9.89-9.9-9.9ZM11.05,3.38c-.29,0-.52.23-.52.52v7.14c0,.29.23.52.52.52h4.93c.29,0,.52-.23.52-.52s-.23-.52-.52-.52h-4.4V3.9c0-.29-.23-.52-.52-.52ZM25.11,19.38c0,3.16-2.57,5.73-5.73,5.73s-5.73-2.57-5.73-5.73,2.57-5.73,5.73-5.73c3.16,0,5.73,2.57,5.73,5.73ZM24.07,19.38c0-2.59-2.1-4.69-4.69-4.69s-4.69,2.1-4.69,4.69,2.1,4.69,4.69,4.69c2.59,0,4.68-2.1,4.69-4.69ZM21.35,17.76l-2.57,2.57-1.11-1.11c-.2-.2-.53-.2-.74,0s-.2.53,0,.74l1.48,1.48c.2.2.53.2.74,0l2.94-2.94c.21-.2.21-.53.01-.74-.2-.21-.53-.21-.74-.01,0,0,0,0-.01.01Z" style="fill:#e6b655; stroke:#e6b655; stroke-miterlimit:10; stroke-width:.22px;"/></svg>
              <h3 class="text-lg font-bold text-header-grey">Availability</h3>
              <!-- <a id="sync-availabilities-btn" href="#" class="px-2 py-1 text-sm flex items-center justify-center text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ml-2">
                Sync
              </a> -->
            </div>
            <ul class="space-y-2">
              <li><a href="{% url 'availability_list' %}" class="text-blue font-semibold hover:opacity-80">Manage Availability</a></li>
            </ul>
          </div>

          <!-- Groups -->
          <div class="bg-white p-5 rounded-lg">
            <div class="flex items-center mb-4">
              <svg class="h-6 w-7 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25"><path d="M3.81,7.62c.14,0,.28,0,.41-.02.8-.09,1.56-.43,2.16-.98h0s0,0,0,0,0,0,0,0c.78-.72,1.23-1.74,1.23-2.8C7.62,1.71,5.91,0,3.81,0S0,1.71,0,3.81C0,4.88.45,5.9,1.24,6.61c.7.65,1.62,1.01,2.58,1.01ZM3.19,3.26c0-.34.28-.62.62-.62s.62.28.62.62-.28.62-.62.62h0c-.34,0-.62-.28-.62-.62h0ZM3.81,4.71h0c.88,0,1.63.6,1.84,1.43,0,0,0,0-.01.01-.12.09-.24.17-.36.24-.02.01-.04.02-.06.04-.13.07-.26.12-.39.17-.02,0-.05.02-.07.02-.14.05-.28.08-.42.11-.02,0-.04,0-.05,0-.15.02-.3.04-.46.04s-.31-.01-.46-.04c-.02,0-.04,0-.06,0-.14-.02-.28-.06-.42-.11-.02,0-.05-.02-.07-.02-.13-.05-.26-.11-.39-.17-.02-.01-.05-.03-.07-.04-.13-.07-.25-.15-.36-.24,0,0-.01,0-.02-.01.21-.83.96-1.43,1.84-1.43h0ZM3.81.83c1.64,0,2.98,1.33,2.98,2.98,0,.59-.18,1.17-.5,1.65-.27-.58-.74-1.05-1.32-1.32.19-.25.3-.55.3-.88,0-.8-.65-1.46-1.46-1.46s-1.46.65-1.46,1.46c0,.33.12.64.3.88-.58.27-1.05.74-1.32,1.32-.32-.48-.5-1.06-.5-1.65C.83,2.17,2.17.83,3.81.83h0Z" style="fill:#e6b655;"/><path d="M21.19,0c-2.1,0-3.81,1.71-3.81,3.81,0,1.07.45,2.09,1.24,2.81.7.65,1.62,1.01,2.58,1.01.14,0,.28,0,.41-.02.8-.09,1.56-.43,2.16-.98,0,0,0,0,0,0,0,0,0,0,0,0s0,0,0,0c.78-.72,1.23-1.74,1.23-2.8C25,1.71,23.29,0,21.19,0h0ZM21.19.83c1.64,0,2.98,1.33,2.98,2.98,0,.59-.18,1.17-.5,1.65-.27-.58-.74-1.05-1.32-1.32.19-.25.3-.55.3-.88,0-.8-.65-1.46-1.46-1.46s-1.46.65-1.46,1.46c0,.33.12.64.3.88-.58.27-1.05.74-1.32,1.32-.32-.48-.5-1.06-.5-1.65,0-1.64,1.34-2.98,2.98-2.98ZM23.01,6.16c-.12.09-.24.17-.36.24-.02.01-.04.02-.06.04-.13.07-.26.13-.39.17-.02,0-.05.02-.07.02-.14.05-.28.08-.42.11-.02,0-.04,0-.05,0-.15.02-.3.04-.46.04s-.31-.01-.46-.04c-.02,0-.04,0-.06,0-.14-.02-.28-.06-.42-.11-.02,0-.05-.02-.07-.02-.13-.05-.26-.11-.39-.17-.02-.01-.05-.03-.07-.04-.12-.07-.25-.15-.36-.24,0,0,0,0-.02-.01.21-.83.96-1.43,1.84-1.43h0c.88,0,1.63.6,1.84,1.43,0,0,0,0-.01.01h0ZM20.57,3.26c0-.34.28-.62.62-.62s.62.28.62.62-.28.62-.62.62h0c-.34,0-.62-.28-.62-.62h0Z" style="fill:#e6b655;"/><path d="M3.81,25c.12,0,.24,0,.36-.02.83-.08,1.6-.42,2.21-.99,0,0,0,0,0,0,0,0,0,0,0,0s0,0,0,0c.78-.72,1.23-1.74,1.23-2.8,0-2.1-1.71-3.81-3.81-3.81s-3.81,1.71-3.81,3.81c0,1.07.45,2.09,1.23,2.81.7.65,1.62,1.01,2.58,1.01h0ZM3.35,24.13s-.04,0-.06,0c-.14-.03-.28-.06-.42-.11-.02,0-.05-.02-.07-.02-.13-.05-.26-.11-.39-.17-.02-.01-.05-.03-.07-.04-.12-.07-.25-.15-.36-.24,0,0-.01,0-.02-.01.21-.83.96-1.43,1.84-1.43h0c.88,0,1.63.6,1.84,1.43,0,0,0,0-.01.01-.12.09-.24.17-.36.24-.02.01-.04.03-.07.04-.13.07-.25.12-.39.17-.02,0-.05.02-.07.02-.14.05-.28.08-.42.11-.02,0-.04,0-.05,0-.15.02-.31.04-.46.04s-.31-.01-.46-.04h0ZM3.19,20.64c0-.34.28-.62.62-.62s.62.28.62.62-.28.62-.62.62h0c-.34,0-.62-.28-.62-.62h0ZM3.81,18.21c1.64,0,2.98,1.33,2.98,2.98,0,.59-.18,1.17-.5,1.65-.27-.58-.74-1.05-1.32-1.32.19-.25.3-.55.3-.88,0-.8-.65-1.46-1.46-1.46s-1.46.65-1.46,1.46c0,.33.12.63.3.88-.58.27-1.05.74-1.32,1.32-.32-.48-.5-1.06-.5-1.65,0-1.64,1.34-2.98,2.98-2.98h0Z" style="fill:#e6b655;"/><path d="M21.19,25c.12,0,.24,0,.36-.02.83-.08,1.6-.42,2.21-.99h0s0,0,0,0,0,0,0,0c.78-.72,1.23-1.74,1.23-2.8,0-2.1-1.71-3.81-3.81-3.81s-3.81,1.71-3.81,3.81c0,1.07.45,2.09,1.24,2.81.7.65,1.62,1.01,2.58,1.01h0ZM20.73,24.13s-.04,0-.06,0c-.14-.03-.28-.06-.42-.11-.02,0-.05-.02-.07-.03-.13-.05-.26-.11-.39-.17-.02-.01-.05-.03-.07-.04-.12-.07-.25-.15-.36-.24,0,0,0,0-.02-.01.21-.83.96-1.43,1.84-1.43h0c.88,0,1.63.6,1.84,1.43,0,0,0,0-.01.01-.12.09-.24.17-.36.24-.02.01-.04.03-.06.04-.13.07-.26.12-.39.17-.02,0-.05.02-.07.02-.14.05-.28.08-.42.11-.02,0-.04,0-.05,0-.15.02-.3.04-.46.04s-.31-.01-.46-.04h0ZM20.57,20.64c0-.34.28-.62.62-.62s.62.28.62.62-.28.62-.62.62h0c-.34,0-.62-.28-.62-.62h0ZM21.19,18.21c1.64,0,2.98,1.33,2.98,2.98,0,.59-.18,1.17-.5,1.65-.27-.58-.74-1.05-1.32-1.32.19-.25.3-.55.3-.88,0-.8-.65-1.46-1.46-1.46s-1.46.65-1.46,1.46c0,.33.12.63.3.88-.58.27-1.05.74-1.32,1.32-.32-.48-.5-1.06-.5-1.65,0-1.64,1.34-2.98,2.98-2.98h0Z" style="fill:#e6b655;"/><path d="M9.11,3.39c-.23,0-.42.19-.42.42s.19.42.42.42h6.77c.23,0,.42-.19.42-.42s-.19-.42-.42-.42h-6.77Z" style="fill:#e6b655;"/><path d="M9.11,21.26c-.23,0-.42.19-.42.42s.19.42.42.42h6.77c.23,0,.42-.19.42-.42s-.19-.42-.42-.42h-6.77Z" style="fill:#e6b655;"/><path d="M21.85,16.13v-6.77c0-.23-.19-.42-.42-.42s-.42.19-.42.42v6.77c0,.23.19.42.42.42s.42-.19.42-.42Z" style="fill:#e6b655;"/><path d="M3.15,9.36v6.77c0,.23.19.42.42.42s.42-.19.42-.42v-6.77c0-.23-.19-.42-.42-.42s-.42.19-.42.42Z" style="fill:#e6b655;"/><path d="M17.79,15.85c.33-.5.58-1.05.75-1.63h0c.17-.58.26-1.19.26-1.81,0-3.48-2.83-6.31-6.31-6.31s-6.31,2.83-6.31,6.31c0,1.23.35,2.41,1.02,3.43,1.17,1.8,3.15,2.88,5.29,2.88s4.13-1.07,5.29-2.87h0ZM12.5,13.51h.62l.2.27-1.05,1.43h-1.97l2.04-2.76.17.24h0c-.23,0-.42.19-.42.42s.19.42.42.42h0ZM14.17,14.03h0l1.7-2.3.56.76h-.54c-.23,0-.42.19-.42.42s.19.42.42.42h1.16l.64.86s-.01.04-.02.06c-.05.15-.11.3-.18.45,0,0,0,.02,0,.02-.07.15-.15.3-.23.44-.01.02-.02.04-.03.05h-3.91l.87-1.18ZM12.5,6.94c3.02,0,5.47,2.46,5.47,5.48,0,.23-.02.46-.05.69l-1.72-2.33c-.08-.11-.2-.17-.34-.17s-.26.06-.34.17l-1.7,2.3-1.17-1.58c-.08-.11-.2-.17-.34-.17s-.26.06-.34.17l-2.74,3.71h-1.46c-.5-.84-.77-1.8-.77-2.79,0-3.02,2.46-5.47,5.47-5.47h0ZM12.5,17.89c-1.59,0-3.07-.68-4.1-1.85h1.06s0,0,0,0h3.01s0,0,0,0h4.12c-1.03,1.17-2.51,1.85-4.1,1.85Z" style="fill:#e6b655;"/><path d="M9.5,11.75c.78,0,1.41-.63,1.41-1.41s-.63-1.41-1.41-1.41-1.41.63-1.41,1.41.63,1.41,1.41,1.41ZM9.5,9.75c.32,0,.58.26.58.58s-.26.58-.58.58-.58-.26-.58-.58.26-.58.58-.58Z" style="fill:#e6b655;"/><path d="M12.64,8.87c.1-.02.27-.01.29.04,0,0,0,0,0,.01,0,.01.01.02.02.04.02.03.04.06.06.09.01.01.02.02.03.03.03.02.06.04.1.06,0,0,.01.01.02.01,0,0,0,0,.01,0,.04.02.09.03.14.03s.09-.01.14-.03c0,0,0,0,.01,0,0,0,.01-.01.02-.01.03-.02.07-.04.1-.06.01-.01.02-.02.03-.03.02-.03.04-.06.06-.09,0-.01.01-.02.02-.04,0,0,0,0,0-.01.02-.05.19-.06.29-.04.22.05.44-.1.49-.32.05-.23-.1-.45-.32-.49-.28-.06-.6-.03-.85.11-.25-.14-.57-.17-.85-.11-.22.05-.37.27-.32.49.05.22.27.37.49.33h0Z" style="fill:#e6b655;"/><path d="M14.2,9.24c-.22.05-.37.27-.32.49.05.22.27.37.49.33.1-.02.27-.01.29.04,0,0,0,0,0,.01,0,.01.01.02.02.03.02.03.04.06.06.09.01.01.02.02.03.03.03.02.06.04.1.06,0,0,.01.01.02.01,0,0,0,0,.01,0,.04.02.09.03.14.03s.09-.01.14-.03c0,0,0,0,.01,0,0,0,.01-.01.02-.01.03-.02.07-.04.1-.06.01-.01.02-.02.03-.03.02-.03.04-.06.06-.09,0-.01.01-.02.02-.03,0,0,0,0,0-.01.02-.05.19-.06.29-.04.22.04.44-.1.49-.32.05-.23-.1-.45-.32-.49-.27-.06-.59-.03-.85.11-.25-.14-.57-.17-.85-.11h0Z" style="fill:#e6b655;"/></svg>
              <h3 class="text-lg font-bold text-header-grey">Groups</h3>
            </div>
            <ul class="space-y-2">
              <li><a href="{% url 'group_list' %}" class="text-blue font-semibold hover:opacity-80">Manage Groups</a></li>
            </ul>
          </div>

          <!-- Bus -->
          <div class="bg-white p-5 rounded-lg">
            <div class="flex items-center mb-4">
              <svg class="h-6 w-7 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25"><path d="M3.81,7.62c.14,0,.28,0,.41-.02.8-.09,1.56-.43,2.16-.98h0s0,0,0,0,0,0,0,0c.78-.72,1.23-1.74,1.23-2.8C7.62,1.71,5.91,0,3.81,0S0,1.71,0,3.81C0,4.88.45,5.9,1.24,6.61c.7.65,1.62,1.01,2.58,1.01ZM3.19,3.26c0-.34.28-.62.62-.62s.62.28.62.62-.28.62-.62.62h0c-.34,0-.62-.28-.62-.62h0ZM3.81,4.71h0c.88,0,1.63.6,1.84,1.43,0,0,0,0-.01.01-.12.09-.24.17-.36.24-.02.01-.04.02-.06.04-.13.07-.26.12-.39.17-.02,0-.05.02-.07.02-.14.05-.28.08-.42.11-.02,0-.04,0-.05,0-.15.02-.3.04-.46.04s-.31-.01-.46-.04c-.02,0-.04,0-.06,0-.14-.02-.28-.06-.42-.11-.02,0-.05-.02-.07-.02-.13-.05-.26-.11-.39-.17-.02-.01-.05-.03-.07-.04-.13-.07-.25-.15-.36-.24,0,0-.01,0-.02-.01.21-.83.96-1.43,1.84-1.43h0ZM3.81.83c1.64,0,2.98,1.33,2.98,2.98,0,.59-.18,1.17-.5,1.65-.27-.58-.74-1.05-1.32-1.32.19-.25.3-.55.3-.88,0-.8-.65-1.46-1.46-1.46s-1.46.65-1.46,1.46c0,.33.12.64.3.88-.58.27-1.05.74-1.32,1.32-.32-.48-.5-1.06-.5-1.65C.83,2.17,2.17.83,3.81.83h0Z" style="fill:#e6b655;"/><path d="M21.19,0c-2.1,0-3.81,1.71-3.81,3.81,0,1.07.45,2.09,1.24,2.81.7.65,1.62,1.01,2.58,1.01.14,0,.28,0,.41-.02.8-.09,1.56-.43,2.16-.98,0,0,0,0,0,0,0,0,0,0,0,0s0,0,0,0c.78-.72,1.23-1.74,1.23-2.8C25,1.71,23.29,0,21.19,0h0ZM21.19.83c1.64,0,2.98,1.33,2.98,2.98,0,.59-.18,1.17-.5,1.65-.27-.58-.74-1.05-1.32-1.32.19-.25.3-.55.3-.88,0-.8-.65-1.46-1.46-1.46s-1.46.65-1.46,1.46c0,.33.12.64.3.88-.58.27-1.05.74-1.32,1.32-.32-.48-.5-1.06-.5-1.65,0-1.64,1.34-2.98,2.98-2.98ZM23.01,6.16c-.12.09-.24.17-.36.24-.02.01-.04.02-.06.04-.13.07-.26.13-.39.17-.02,0-.05.02-.07.02-.14.05-.28.08-.42.11-.02,0-.04,0-.05,0-.15.02-.3.04-.46.04s-.31-.01-.46-.04c-.02,0-.04,0-.06,0-.14-.02-.28-.06-.42-.11-.02,0-.05-.02-.07-.02-.13-.05-.26-.11-.39-.17-.02-.01-.05-.03-.07-.04-.12-.07-.25-.15-.36-.24,0,0,0,0-.02-.01.21-.83.96-1.43,1.84-1.43h0c.88,0,1.63.6,1.84,1.43,0,0,0,0-.01.01h0ZM20.57,3.26c0-.34.28-.62.62-.62s.62.28.62.62-.28.62-.62.62h0c-.34,0-.62-.28-.62-.62h0Z" style="fill:#e6b655;"/><path d="M3.81,25c.12,0,.24,0,.36-.02.83-.08,1.6-.42,2.21-.99,0,0,0,0,0,0,0,0,0,0,0,0s0,0,0,0c.78-.72,1.23-1.74,1.23-2.8,0-2.1-1.71-3.81-3.81-3.81s-3.81,1.71-3.81,3.81c0,1.07.45,2.09,1.23,2.81.7.65,1.62,1.01,2.58,1.01h0ZM3.35,24.13s-.04,0-.06,0c-.14-.03-.28-.06-.42-.11-.02,0-.05-.02-.07-.02-.13-.05-.26-.11-.39-.17-.02-.01-.05-.03-.07-.04-.12-.07-.25-.15-.36-.24,0,0-.01,0-.02-.01.21-.83.96-1.43,1.84-1.43h0c.88,0,1.63.6,1.84,1.43,0,0,0,0-.01.01-.12.09-.24.17-.36.24-.02.01-.04.03-.07.04-.13.07-.25.12-.39.17-.02,0-.05.02-.07.02-.14.05-.28.08-.42.11-.02,0-.04,0-.05,0-.15.02-.31.04-.46.04s-.31-.01-.46-.04h0ZM3.19,20.64c0-.34.28-.62.62-.62s.62.28.62.62-.28.62-.62.62h0c-.34,0-.62-.28-.62-.62h0ZM3.81,18.21c1.64,0,2.98,1.33,2.98,2.98,0,.59-.18,1.17-.5,1.65-.27-.58-.74-1.05-1.32-1.32.19-.25.3-.55.3-.88,0-.8-.65-1.46-1.46-1.46s-1.46.65-1.46,1.46c0,.33.12.63.3.88-.58.27-1.05.74-1.32,1.32-.32-.48-.5-1.06-.5-1.65,0-1.64,1.34-2.98,2.98-2.98h0Z" style="fill:#e6b655;"/><path d="M21.19,25c.12,0,.24,0,.36-.02.83-.08,1.6-.42,2.21-.99h0s0,0,0,0,0,0,0,0c.78-.72,1.23-1.74,1.23-2.8,0-2.1-1.71-3.81-3.81-3.81s-3.81,1.71-3.81,3.81c0,1.07.45,2.09,1.24,2.81.7.65,1.62,1.01,2.58,1.01h0ZM20.73,24.13s-.04,0-.06,0c-.14-.03-.28-.06-.42-.11-.02,0-.05-.02-.07-.03-.13-.05-.26-.11-.39-.17-.02-.01-.05-.03-.07-.04-.12-.07-.25-.15-.36-.24,0,0,0,0-.02-.01.21-.83.96-1.43,1.84-1.43h0c.88,0,1.63.6,1.84,1.43,0,0,0,0-.01.01-.12.09-.24.17-.36.24-.02.01-.04.03-.06.04-.13.07-.26.12-.39.17-.02,0-.05.02-.07.02-.14.05-.28.08-.42.11-.02,0-.04,0-.05,0-.15.02-.3.04-.46.04s-.31-.01-.46-.04h0ZM20.57,20.64c0-.34.28-.62.62-.62s.62.28.62.62-.28.62-.62.62h0c-.34,0-.62-.28-.62-.62h0ZM21.19,18.21c1.64,0,2.98,1.33,2.98,2.98,0,.59-.18,1.17-.5,1.65-.27-.58-.74-1.05-1.32-1.32.19-.25.3-.55.3-.88,0-.8-.65-1.46-1.46-1.46s-1.46.65-1.46,1.46c0,.33.12.63.3.88-.58.27-1.05.74-1.32,1.32-.32-.48-.5-1.06-.5-1.65,0-1.64,1.34-2.98,2.98-2.98h0Z" style="fill:#e6b655;"/><path d="M9.11,3.39c-.23,0-.42.19-.42.42s.19.42.42.42h6.77c.23,0,.42-.19.42-.42s-.19-.42-.42-.42h-6.77Z" style="fill:#e6b655;"/><path d="M9.11,21.26c-.23,0-.42.19-.42.42s.19.42.42.42h6.77c.23,0,.42-.19.42-.42s-.19-.42-.42-.42h-6.77Z" style="fill:#e6b655;"/><path d="M21.85,16.13v-6.77c0-.23-.19-.42-.42-.42s-.42.19-.42.42v6.77c0,.23.19.42.42.42s.42-.19.42-.42Z" style="fill:#e6b655;"/><path d="M3.15,9.36v6.77c0,.23.19.42.42.42s.42-.19.42-.42v-6.77c0-.23-.19-.42-.42-.42s-.42.19-.42.42Z" style="fill:#e6b655;"/><path d="M17.79,15.85c.33-.5.58-1.05.75-1.63h0c.17-.58.26-1.19.26-1.81,0-3.48-2.83-6.31-6.31-6.31s-6.31,2.83-6.31,6.31c0,1.23.35,2.41,1.02,3.43,1.17,1.8,3.15,2.88,5.29,2.88s4.13-1.07,5.29-2.87h0ZM12.5,13.51h.62l.2.27-1.05,1.43h-1.97l2.04-2.76.17.24h0c-.23,0-.42.19-.42.42s.19.42.42.42h0ZM14.17,14.03h0l1.7-2.3.56.76h-.54c-.23,0-.42.19-.42.42s.19.42.42.42h1.16l.64.86s-.01.04-.02.06c-.05.15-.11.3-.18.45,0,0,0,.02,0,.02-.07.15-.15.3-.23.44-.01.02-.02.04-.03.05h-3.91l.87-1.18ZM12.5,6.94c3.02,0,5.47,2.46,5.47,5.48,0,.23-.02.46-.05.69l-1.72-2.33c-.08-.11-.2-.17-.34-.17s-.26.06-.34.17l-1.7,2.3-1.17-1.58c-.08-.11-.2-.17-.34-.17s-.26.06-.34.17l-2.74,3.71h-1.46c-.5-.84-.77-1.8-.77-2.79,0-3.02,2.46-5.47,5.47-5.47h0ZM12.5,17.89c-1.59,0-3.07-.68-4.1-1.85h1.06s0,0,0,0h3.01s0,0,0,0h4.12c-1.03,1.17-2.51,1.85-4.1,1.85Z" style="fill:#e6b655;"/><path d="M9.5,11.75c.78,0,1.41-.63,1.41-1.41s-.63-1.41-1.41-1.41-1.41.63-1.41,1.41.63,1.41,1.41,1.41ZM9.5,9.75c.32,0,.58.26.58.58s-.26.58-.58.58-.58-.26-.58-.58.26-.58.58-.58Z" style="fill:#e6b655;"/><path d="M12.64,8.87c.1-.02.27-.01.29.04,0,0,0,0,0,.01,0,.01.01.02.02.04.02.03.04.06.06.09.01.01.02.02.03.03.03.02.06.04.1.06,0,0,.01.01.02.01,0,0,0,0,.01,0,.04.02.09.03.14.03s.09-.01.14-.03c0,0,0,0,.01,0,0,0,.01-.01.02-.01.03-.02.07-.04.1-.06.01-.01.02-.02.03-.03.02-.03.04-.06.06-.09,0-.01.01-.02.02-.04,0,0,0,0,0-.01.02-.05.19-.06.29-.04.22.05.44-.1.49-.32.05-.23-.1-.45-.32-.49-.28-.06-.6-.03-.85.11-.25-.14-.57-.17-.85-.11-.22.05-.37.27-.32.49.05.22.27.37.49.33h0Z" style="fill:#e6b655;"/><path d="M14.2,9.24c-.22.05-.37.27-.32.49.05.22.27.37.49.33.1-.02.27-.01.29.04,0,0,0,0,0,.01,0,.01.01.02.02.03.02.03.04.06.06.09.01.01.02.02.03.03.03.02.06.04.1.06,0,0,.01.01.02.01,0,0,0,0,.01,0,.04.02.09.03.14.03s.09-.01.14-.03c0,0,0,0,.01,0,0,0,.01-.01.02-.01.03-.02.07-.04.1-.06.01-.01.02-.02.03-.03.02-.03.04-.06.06-.09,0-.01.01-.02.02-.03,0,0,0,0,0-.01.02-.05.19-.06.29-.04.22.04.44-.1.49-.32.05-.23-.1-.45-.32-.49-.27-.06-.59-.03-.85.11-.25-.14-.57-.17-.85-.11h0Z" style="fill:#e6b655;"/></svg>
              <h3 class="text-lg font-bold text-header-grey">Buses</h3>
            </div>
            <ul class="space-y-2">
              <li><a href="{% url 'buses_list' %}" class="text-blue font-semibold hover:opacity-80">Manage Buses</a></li>
            </ul>
          </div>

        </div>
      </div>

      <!-- Location Management Section -->
      <div>
        <h2 class="text-2xl font-semibold text-purple mb-4">Location Management</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
          <!-- Hotels -->
          <div class="bg-white p-5 rounded-lg relative">
            <div class="flex items-center mb-4">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-red-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
              </svg>
              <h3 class="text-lg font-bold text-header-grey">Hotels</h3>
              <a id="sync-hotels-btn" href="#" class="absolute top-2 right-2">
                <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" viewBox="0 0 26.82 26.82"><circle cx="13.41" cy="13.41" r="13.41" style="fill:#2196f3;"/><path d="M12.32,7.32c.23.09.41.26.51.48s.11.48.02.71l-1.21,3.19c-.09.24-.27.42-.48.51s-.47.11-.71.02c-.48-.18-.72-.71-.54-1.19l.52-1.37c-2.12,1.41-2.97,4.2-1.89,6.59.51,1.13,1.4,2.05,2.51,2.59h0c.46.22.65.78.43,1.23-.1.2-.26.35-.45.44-.24.11-.53.11-.78-.01-1.5-.73-2.7-1.97-3.39-3.49-1.45-3.21-.32-6.94,2.5-8.85l-.88-.33c-.48-.18-.72-.71-.54-1.19.18-.48.71-.72,1.19-.54" style="fill:#fff;"/><path d="M14.5,19.5c-.23-.09-.41-.26-.51-.48s-.11-.48-.02-.71l1.21-3.19c.09-.24.27-.42.48-.51s.47-.11.71-.02c.48.18.72.71.54,1.19l-.52,1.37c2.12-1.41,2.97-4.2,1.89-6.59-.51-1.13-1.4-2.05-2.51-2.59h0c-.46-.22-.65-.78-.43-1.23.1-.2.26-.35.45-.44.24-.11.53-.11.78.01,1.5.73,2.7,1.97,3.39,3.49,1.45,3.21.32,6.94-2.5,8.85l.88.33c.48.18.72.71.54,1.19-.18.48-.71.72-1.19.54" style="fill:#fff;"/></svg>
              </a>
            </div>
            <ul class="space-y-2">
              <li><a href="{% url 'hotel_list' %}" class="text-blue font-semibold hover:opacity-80">Manage Hotels</a></li>
            </ul>
          </div>


          <!-- Pickup Groups -->
          <div class="bg-white p-5 rounded-lg relative">
            <div class="flex items-center mb-4">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
              </svg>
              <h3 class="text-lg font-bold text-header-grey mr-2">Pickup Groups</h3>
              <a id="sync-groups-btn" href="#" class="absolute top-2 right-2">
                <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" viewBox="0 0 26.82 26.82"><circle cx="13.41" cy="13.41" r="13.41" style="fill:#2196f3;"/><path d="M12.32,7.32c.23.09.41.26.51.48s.11.48.02.71l-1.21,3.19c-.09.24-.27.42-.48.51s-.47.11-.71.02c-.48-.18-.72-.71-.54-1.19l.52-1.37c-2.12,1.41-2.97,4.2-1.89,6.59.51,1.13,1.4,2.05,2.51,2.59h0c.46.22.65.78.43,1.23-.1.2-.26.35-.45.44-.24.11-.53.11-.78-.01-1.5-.73-2.7-1.97-3.39-3.49-1.45-3.21-.32-6.94,2.5-8.85l-.88-.33c-.48-.18-.72-.71-.54-1.19.18-.48.71-.72,1.19-.54" style="fill:#fff;"/><path d="M14.5,19.5c-.23-.09-.41-.26-.51-.48s-.11-.48-.02-.71l1.21-3.19c.09-.24.27-.42.48-.51s.47-.11.71-.02c.48.18.72.71.54,1.19l-.52,1.37c2.12-1.41,2.97-4.2,1.89-6.59-.51-1.13-1.4-2.05-2.51-2.59h0c-.46-.22-.65-.78-.43-1.23.1-.2.26-.35.45-.44.24-.11.53-.11.78.01,1.5.73,2.7,1.97,3.39,3.49,1.45,3.21.32,6.94-2.5,8.85l.88.33c.48.18.72.71.54,1.19-.18.48-.71.72-1.19.54" style="fill:#fff;"/></svg>
              </a>
              
            </div>
            <ul class="space-y-2">
              <li><a href="{% url 'pickup_groups_list' %}" class="text-blue font-semibold hover:opacity-80">Manage Pickup Groups</a></li>
            </ul>
          </div>

          <!-- Pickup Points -->
          <div class="bg-white p-5 rounded-lg relative">
            <div class="flex items-center mb-4">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
              </svg>
              <h3 class="text-lg font-bold text-header-grey">Pickup Points</h3> 
              <a id="sync-points-btn" href="#" class="absolute top-2 right-2">
                <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" viewBox="0 0 26.82 26.82"><circle cx="13.41" cy="13.41" r="13.41" style="fill:#2196f3;"/><path d="M12.32,7.32c.23.09.41.26.51.48s.11.48.02.71l-1.21,3.19c-.09.24-.27.42-.48.51s-.47.11-.71.02c-.48-.18-.72-.71-.54-1.19l.52-1.37c-2.12,1.41-2.97,4.2-1.89,6.59.51,1.13,1.4,2.05,2.51,2.59h0c.46.22.65.78.43,1.23-.1.2-.26.35-.45.44-.24.11-.53.11-.78-.01-1.5-.73-2.7-1.97-3.39-3.49-1.45-3.21-.32-6.94,2.5-8.85l-.88-.33c-.48-.18-.72-.71-.54-1.19.18-.48.71-.72,1.19-.54" style="fill:#fff;"/><path d="M14.5,19.5c-.23-.09-.41-.26-.51-.48s-.11-.48-.02-.71l1.21-3.19c.09-.24.27-.42.48-.51s.47-.11.71-.02c.48.18.72.71.54,1.19l-.52,1.37c2.12-1.41,2.97-4.2,1.89-6.59-.51-1.13-1.4-2.05-2.51-2.59h0c-.46-.22-.65-.78-.43-1.23.1-.2.26-.35.45-.44.24-.11.53-.11.78.01,1.5.73,2.7,1.97,3.39,3.49,1.45,3.21.32,6.94-2.5,8.85l.88.33c.48.18.72.71.54,1.19-.18.48-.71.72-1.19.54" style="fill:#fff;"/></svg>
              </a> 
            </div>
            <ul class="space-y-2">
              <li><a href="{% url 'pickup_points_list' %}" class="text-blue font-semibold hover:opacity-80">Manage Pickup Points</a></li>
            </ul>
          </div>
           
        </div>
      </div>

      <!-- System Management Section -->
      <div>
        <h2 class="text-2xl font-semibold text-orange mb-4">System Management</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
          <!-- Categories & Tags -->
          <div class="bg-white p-5 rounded-lg">
            <div class="flex items-center mb-4">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-yellow-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" />
              </svg>
              <h3 class="text-lg font-bold text-header-grey">Categories & Tags</h3>
            </div>
            <ul class="space-y-2">
              <li><a href="{% url 'manage_categories_tags' %}" class="text-blue font-semibold hover:opacity-80">Manage Categories & Tags</a></li>
            </ul>
          </div>
          
          <!-- Providers -->
          <div class="bg-white p-5 rounded-lg relative">
            <div class="flex items-center mb-4">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-yellow-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15l-3.5-3.5a2.121 2.121 0 010-3l3.5-3.5a2.121 2.121 0 013 0l3.5 3.5a2.121 2.121 0 010 3L15 15a2.121 2.121 0 01-3 0z" />
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.5 8.5l7 7" />
              </svg>
              <h3 class="text-lg font-bold text-header-grey">Providers</h3>
              <a id="sync-providers-btn" href="#" class="absolute top-2 right-2">
                <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" viewBox="0 0 26.82 26.82"><circle cx="13.41" cy="13.41" r="13.41" style="fill:#2196f3;"/><path d="M12.32,7.32c.23.09.41.26.51.48s.11.48.02.71l-1.21,3.19c-.09.24-.27.42-.48.51s-.47.11-.71.02c-.48-.18-.72-.71-.54-1.19l.52-1.37c-2.12,1.41-2.97,4.2-1.89,6.59.51,1.13,1.4,2.05,2.51,2.59h0c.46.22.65.78.43,1.23-.1.2-.26.35-.45.44-.24.11-.53.11-.78-.01-1.5-.73-2.7-1.97-3.39-3.49-1.45-3.21-.32-6.94,2.5-8.85l-.88-.33c-.48-.18-.72-.71-.54-1.19.18-.48.71-.72,1.19-.54" style="fill:#fff;"/><path d="M14.5,19.5c-.23-.09-.41-.26-.51-.48s-.11-.48-.02-.71l1.21-3.19c.09-.24.27-.42.48-.51s.47-.11.71-.02c.48.18.72.71.54,1.19l-.52,1.37c2.12-1.41,2.97-4.2,1.89-6.59-.51-1.13-1.4-2.05-2.51-2.59h0c-.46-.22-.65-.78-.43-1.23.1-.2.26-.35.45-.44.24-.11.53-.11.78.01,1.5.73,2.7,1.97,3.39,3.49,1.45,3.21.32,6.94-2.5,8.85l.88.33c.48.18.72.71.54,1.19-.18.48-.71.72-1.19.54" style="fill:#fff;"/></svg>
              </a>
            </div>
            <ul class="space-y-2">
              <li><a href="{% url 'providers_list' %}" class="text-blue font-semibold hover:opacity-80">Manage Providers</a></li>
            </ul>
          </div>
          <!-- Reservations -->
          <div class="bg-white p-5 rounded-lg">
            <div class="flex items-center mb-4">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-red-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4" />
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4" />
              </svg>
              <h3 class="text-lg font-bold text-header-grey">Reservations</h3>
            </div>
            <ul class="space-y-2">
              <li><a href="{% url 'admin_reservations' %}" class="text-blue font-semibold hover:opacity-80">Manage Reservations</a></li>
            </ul>
          </div>

          <!-- Bookings -->
          <div class="bg-white p-5 rounded-lg">
            <div class="flex items-center mb-4">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-red-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4" />
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4" />
              </svg>
              <h3 class="text-lg font-bold text-header-grey">Bookings</h3>
            </div>
            <ul class="space-y-2">
              <li><a href="{% url 'bookings_list' %}" class="text-blue font-semibold hover:opacity-80">Manage Bookings</a></li>
            </ul>
          </div>

        </div>
      </div>

      <!-- User Management Section -->
      <div>
        <h2 class="text-2xl font-semibold text-green mb-4">User Management</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4 gap-6">

          <!-- Staff -->
          <div class="bg-white p-5 rounded-lg">
            <div class="flex items-center mb-4">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
              </svg>
              <h3 class="text-lg font-bold text-header-grey">Staff</h3>
            </div>
            <ul class="space-y-2">
              <li><a href="{% url 'staff_list' %}" class="text-blue font-semibold hover:opacity-80">Manage Staff</a></li>
            </ul> 
          </div>

          <!-- Representatives -->
          <div class="bg-white p-5 rounded-lg">
            <div class="flex items-center mb-4">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-orange-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
              </svg>
              <h3 class="text-lg font-bold text-header-grey">Representatives (TBU)</h3>
            </div>
            <ul class="space-y-2">
              <!-- <li><a href="{% url 'reps_list' %}" class="text-blue font-semibold hover:opacity-80">Manage Representatives</a></li> -->
            </ul>
          </div>

          <!-- Guides -->
          <div class="bg-white p-5 rounded-lg">
            <div class="flex items-center mb-4">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-purple-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />  
              </svg>
              <h3 class="text-lg font-bold text-header-grey">Guides (TBU)</h3>
            </div>
            <ul class="space-y-2">
              <!-- <li><a href="{% url 'guides_list' %}" class="text-blue font-semibold hover:opacity-80">Manage Guides</a></li> -->
            </ul>
          </div>

          <!-- Clients -->
          <div class="bg-white p-5 rounded-lg">
            <div class="flex items-center mb-4">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
              </svg>
              <h3 class="text-lg font-bold text-header-grey">Clients</h3>
            </div>
            <ul class="space-y-2">
              <li><a href="{% url 'clients_list' %}" class="text-blue font-semibold hover:opacity-80">Manage Clients</a></li>
            </ul>
          </div>

        </div>
      </div>

      
    </div>
  </div>
  
  <!-- Recent Bookings -->
  <div class="bg-white p-6 mt-6">
    <h2 class="text-2xl font-bold text-orange mb-6">Recent Bookings</h2>
    
    {% if recent_bookings %}
      <div class="overflow-x-auto">
        <table class="min-w-full text-sm">
          <thead class="text-base">
            <tr>
              <th scope="col" class="px-4 py-1 text-left font-semibold text-header-grey tracking-wider text-lg">ID</th>
              <th scope="col" class="px-4 py-1 text-left font-semibold text-header-grey tracking-wider text-lg">Date</th>
              <th scope="col" class="px-4 py-1 text-left font-semibold text-header-grey tracking-wider text-lg">Excursion</th>
              <th scope="col" class="px-4 py-1 text-left font-semibold text-header-grey tracking-wider text-lg">Client</th>
              <th scope="col" class="px-4 py-1 text-left font-semibold text-header-grey tracking-wider text-lg">Status</th>
              <th scope="col" class="px-4 py-1 text-left font-semibold text-header-grey tracking-wider text-lg">Amount</th>
              <th scope="col" class="px-4 py-1 text-left font-semibold text-header-grey tracking-wider text-lg text-right">Actions</th>
            </tr>
          </thead>
          <tbody>
            {% for booking in recent_bookings %}
              <tr class="font-medium">
                <td class="px-4 py-4 whitespace-nowrap">
                  <div class="text-sm table-text font-normal">#{{ booking.id }}</div>
                </td>
                <td class="px-4 py-4 whitespace-nowrap">
                  <div class="text-sm table-text font-normal">{{ booking.created_at|date:"d/m/Y" }}</div>
                </td>
                <td class="px-4 py-4 whitespace-nowrap">
                  <div class="text-sm table-text font-normal">{{ booking.excursion_availability.excursion.title }}</div>
                </td>
                <td class="px-4 py-4 whitespace-nowrap">
                  <div class="text-sm table-text font-normal">{{ booking.guest_name }}</div>
                </td>
                <td class="px-4 py-4 whitespace-nowrap">
                  <span class="px-2 inline-flex text-xs leading-5 font-normal rounded-full  text-white
                  {% if booking.payment_status == 'completed' %}bg-green 
                  {% elif booking.payment_status == 'pending' %}bg-yellow 
                  {% else %}bg-orange{% endif %}">
                    {{ booking.payment_status|title }}
                    {% if booking.deleteByUser %}
                      (by client)
                    {% endif %}
                  </span>
                </td> 
                <td class="px-4 py-4 whitespace-nowrap text-sm table-text font-normal">
                  â‚¬{{ booking.price }}
                </td>
                <td class="px-4 py-4 whitespace-nowrap flex justify-end">
                  <a href="{% url 'booking_detail' booking.id %}" class="text-turquaz hover:opacity-80 font-normal">
                    <svg class="w-6 h-6 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                    </svg>
                  </a>
                  <a data-booking-id="{{ booking.id }}" href="#" id="delete-booking-btn" class="text-orange hover:opacity-80 font-normal">
                      <svg class="w-6 h-6 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                      </svg>
                  </a>
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% else %}
      <p class="text-table-text font-normal">No recent bookings found.</p>
    {% endif %}
  </div>

  <div class="bg-white p-6 mt-6">
    <h2 class="text-2xl font-bold text-orange mb-6">Upcoming Excursions</h2>

    <div class="overflow-x-auto">
      {% if upcoming_excursions %}
      <table class="min-w-full text-sm">
        <thead class="text-base">
          <tr>
            <th scope="col" class="px-4 py-3 text-left font-semibold text-header-grey tracking-wider text-lg">Excursion</th>
            <th scope="col" class="px-4 py-3 text-left font-semibold text-header-grey tracking-wider text-lg">Date</th>
            <th scope="col" class="px-4 py-3 text-left font-semibold text-header-grey tracking-wider text-lg">Booked Guests</th>
            <th scope="col" class="px-4 py-3 text-left font-semibold text-header-grey tracking-wider text-lg">Capacity</th>
          </tr>
        </thead>
        <tbody>
          {% for up_excursion in upcoming_excursions %}
          <tr class="font-medium">
            <td class="px-4 py-4 whitespace-nowrap">
              <div class="text-sm table-text font-normal">{{ up_excursion.excursion_availability.excursion.title }}</div>
            </td>
            <td class="px-4 py-4 whitespace-nowrap">
              <div class="text-sm table-text font-normal">{{ up_excursion.date_day|date:"d/m/Y" }}</div>
            </td>
            <td class="px-4 py-4 whitespace-nowrap">
              <div class="text-sm table-text font-normal">{{ up_excursion.booked_guests }}
                {% if up_excursion.booked_guests == up_excursion.capacity %}
                  <span class="ml-2 bg-orange font-normal text-white px-2 rounded-full">Fully booked</span>
                {% endif %}
              </div>
            </td>
            <td class="px-4 py-4 whitespace-nowrap">
              <div class="text-sm table-text font-normal">{{ up_excursion.capacity }}</div>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% else %}
      <p class="text-table-text font-normal">No upcoming excursions found.</p>
    {% endif %}

  </div>
</div>


<script>

  function getCookie(name) {
        let cookieValue = null;
        if (document.cookie && document.cookie !== '') {
            const cookies = document.cookie.split(';');
            for (let i = 0; i < cookies.length; i++) {
                const cookie = cookies[i].trim();
                if (cookie.substring(0, name.length + 1) === (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
            }
        }
        return cookieValue;
    }
  const csrftoken = getCookie('csrftoken');
  document.getElementById('sync-groups-btn').addEventListener('click', function(e) {
    e.preventDefault();
    fetch('{% url "sync_pickup_groups" %}', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'X-CSRFToken': csrftoken
      }
    })
      .then(response => response.json())
      .then(data => {
        console.log(data);
        if (data.success) {
          Swal.fire({
            title: 'Success',
            text: data.message,
            icon: 'success'
          });
        } else {
          Swal.fire({
            title: 'Error',
            text: data.message,
            icon: 'error'
          });
        }
      });
  });

  document.getElementById('sync-points-btn').addEventListener('click', function(e) {
    e.preventDefault();
    fetch('{% url "sync_pickup_points" %}', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'X-CSRFToken': csrftoken
      }
    })
      .then(response => response.json())
      .then(data => {
        console.log(data);
        if (data.success) {
          Swal.fire({
            title: 'Success',
            text: data.message,
            icon: 'success'
          });
        } else {
          Swal.fire({ 
            title: 'Error',
            text: data.message,
            icon: 'error'
          });
        }
      })
      .catch(error => {
        console.error('Error:', error);
        Swal.fire({
          title: 'Error',
          text: 'An error occurred while syncing pickup groups.',
          icon: 'error'
        });
      });
  });

  document.getElementById('sync-hotels-btn').addEventListener('click', function(e) {
    e.preventDefault();
    fetch('{% url "sync_hotels" %}', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'X-CSRFToken': csrftoken
      }
    })
      .then(response => response.json())
      .then(data => {
        console.log(data);
        if (data.success) {
          Swal.fire({
            title: 'Success',
            text: data.message,
            icon: 'success'
          });
        } else {
          Swal.fire({
            title: 'Error',
            text: data.message,
            icon: 'error'
          });
        }
      })
      .catch(error => {
        console.error('Error:', error);
        Swal.fire({
          title: 'Error',
          text: 'An error occurred while syncing hotels.',
          icon: 'error'
        });
      });
  });

  document.getElementById('sync-excursions-btn').addEventListener('click', function(e) {
    e.preventDefault();
    fetch('{% url "sync_excursions" %}', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'X-CSRFToken': csrftoken
      }
    })
      .then(response => response.json())
      .then(data => {
        console.log(data);
        if (data.success) {
          Swal.fire({
            title: 'Success',
            text: data.message,
            icon: 'success'
          });
        } else {
          Swal.fire({
            title: 'Error',
            text: data.message,
            icon: 'error'
          });
        }
      })
      .catch(error => {
        console.error('Error:', error);
        Swal.fire({
          title: 'Error',
          text: 'An error occurred while syncing excursions.',
          icon: 'error'
        });
      });
  });

  document.getElementById('sync-providers-btn').addEventListener('click', function(e) {
    e.preventDefault();
    fetch('{% url "sync_providers" %}', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'X-CSRFToken': csrftoken
      }
    })
      .then(response => response.json())
      .then(data => {
        console.log(data);
        if (data.success) {
          Swal.fire({
            title: 'Success',
            text: data.message,
            icon: 'success'
          });
        } else {
          Swal.fire({
            title: 'Error',
            text: data.message,
            icon: 'error'
          });
        }
      })
      .catch(error => {
        console.error('Error:', error);
        Swal.fire({
          title: 'Error',
          text: 'An error occurred while syncing providers.',
          icon: 'error'
        });
      });
  });

  // Handle delete booking buttons
  const deleteButtons = document.querySelectorAll('#delete-booking-btn');

  deleteButtons.forEach(function(deleteBtn) {
    deleteBtn.addEventListener('click', function(e) {
      e.preventDefault();
      const bookingId = this.getAttribute('data-booking-id');
      console.log(bookingId);

      if (!bookingId) {
        console.error('No booking ID found');
        return;
      }

      Swal.fire({
        title: 'Are you sure?',
        text: 'You want to delete this booking?',
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33',
        confirmButtonText: 'Yes, delete it!'
      }).then((result) => {
        if (result.isConfirmed) {
          // Construct the URL using the booking ID
          const deleteUrl = `/bookings/${bookingId}/delete/`;
          
          fetch(deleteUrl, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              'X-CSRFToken': csrftoken
            }
          })
            .then(response => response.json())
            .then(data => {
              console.log(data);
              if (data.success) {
                Swal.fire({
                  title: 'Success',
                  text: data.message,
                  icon: 'success'
                }).then(() => {
                  // Reload the page to reflect the changes
                  window.location.reload();
                });
              } else {
                Swal.fire({
                  title: 'Error',
                  text: data.message || 'Booking not deleted.',
                  icon: 'error'
                });
              }
            })
            .catch(error => {
              console.error('Error:', error);
              Swal.fire({
                title: 'Error',
                text: 'An error occurred while deleting the booking.',
                icon: 'error'
              });
            });
        }
      });
    });
  });


</script>
{% endblock %} 