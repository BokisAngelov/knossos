<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    {% for excursion in excursions %}
        <div class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300">
            <a href="{% url 'excursion_detail' excursion.pk %}" class="block">
                <div class="relative">
                    <img src="{% if excursion.intro_image %}{{ excursion.intro_image.url }}{% else %}/excursions/98_LawaxTO.jpg {% endif %}" alt="{{ excursion.title }}" class="w-full h-48 object-cover">
                </div>
                <div class="p-4">
                    <div class="flex items-center mb-4">
                        <svg class="mr-1 mt-1" width="17" height="19" viewBox="0 0 17 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15.7714 14.1792L8.20032 18.6521C7.00672 19.3579 5.46354 18.9652 4.75437 17.7774L0.419474 10.5114C0.0748795 9.9349 -0.0849324 9.00055 0.0449148 8.33955L1.39333 1.62022C1.49821 1.10832 1.89773 0.54175 2.3522 0.273375C2.80667 0.00499891 3.50085 -0.0745198 4.00026 0.0795477L10.5775 2.12218C11.2218 2.32098 11.9659 2.90743 12.3155 3.48891L16.6504 10.7549C17.3595 11.9427 16.965 13.4784 15.7714 14.1842V14.1792ZM2.99644 1.34688C2.85161 1.43137 2.66184 1.70471 2.62688 1.86375L1.27846 8.58805C1.20855 8.94091 1.31342 9.56712 1.49821 9.87526L5.83311 17.1413C6.18769 17.7327 6.96178 17.9315 7.55608 17.5786L15.1272 13.1057C15.7215 12.7528 15.9212 11.9825 15.5667 11.3911L11.2318 4.12506C11.047 3.81693 10.5476 3.4243 10.203 3.31497L3.6307 1.27233C3.47088 1.22263 3.14127 1.26239 2.99644 1.34688ZM3.96031 2.9621C3.66066 3.13605 3.56078 3.5237 3.74057 3.8219C3.92036 4.12009 4.3049 4.21949 4.60455 4.04057C4.9042 3.86166 5.00408 3.47897 4.82429 3.18078C4.6445 2.88258 4.25996 2.78318 3.96031 2.9621ZM13.3043 11.2718C13.1245 10.9736 12.74 10.8742 12.4403 11.0531L7.03169 14.2488C6.73205 14.4227 6.63216 14.8104 6.81195 15.1086C6.99174 15.4068 7.37629 15.5062 7.67594 15.3273L13.0846 12.1316C13.3842 11.9577 13.4841 11.57 13.3043 11.2718ZM11.6962 8.57811C11.5164 8.27991 11.1319 8.18052 10.8322 8.35943L5.42359 11.5551C5.12394 11.729 5.02406 12.1167 5.20385 12.4149C5.38363 12.7131 5.76818 12.8125 6.06783 12.6336L11.4765 9.43791C11.7761 9.26396 11.876 8.8763 11.6962 8.57811Z" fill="#8E24AA"/>
                        </svg>
                        <span class="font-normal text-purple lowercase">
                            {% if excursion.tags.all %}
                                {% for tag in excursion.tags.all %}
                                    {{ tag }}{% if not forloop.last %}, {% endif %}
                                {% endfor %}
                            {% else %}
                                No tags
                            {% endif %}
                        </span>
                    </div>

                    <h2 class="text-xl font-semibold text-header-grey mb-4">{{ excursion.title }}</h2>

                    <div class="flex items-center mb-4">
                        <svg class="mr-1" xmlns="http://www.w3.org/2000/svg" width="27" height="27" viewBox="0 0 27 27" fill="none">
                            <path opacity="0.5" d="M20.25 9L21.3173 9.35576C22.431 9.72702 22.9879 9.91265 23.3065 10.3546C23.625 10.7965 23.625 11.3835 23.625 12.5576V18.9326C23.625 20.3849 23.625 21.111 23.2428 21.5775C23.113 21.7359 22.9554 21.8693 22.7779 21.9714C22.2549 22.2716 21.5387 22.1523 20.1061 21.9135C18.6927 21.678 17.9859 21.5602 17.2854 21.6188C17.0396 21.6394 16.7954 21.676 16.5544 21.7287C15.8677 21.8787 15.2211 22.2019 13.9282 22.8484C12.241 23.692 11.3974 24.1138 10.4994 24.2439C10.229 24.283 9.95603 24.3024 9.68274 24.3018C8.77539 24.3001 7.88834 24.0045 6.11424 23.413L5.68274 23.2693C4.56895 22.898 4.01205 22.7124 3.69353 22.2704C3.375 21.8285 3.375 21.2415 3.375 20.0674V14.5215C3.375 12.6552 3.375 11.7222 3.92446 11.2203C4.02061 11.1325 4.1266 11.0561 4.24032 10.9926C4.89016 10.6301 5.7754 10.9251 7.54589 11.5153" stroke="#8E24AA" stroke-width="2.75"/>
                            <path d="M6.75 8.66285C6.75 5.12112 9.77208 2.25 13.5 2.25C17.2279 2.25 20.25 5.12112 20.25 8.66285C20.25 12.1768 18.0956 16.2773 14.7344 17.7436C13.9508 18.0855 13.0492 18.0855 12.2656 17.7436C8.90436 16.2773 6.75 12.1768 6.75 8.66285Z" stroke="#8E24AA" stroke-width="2.75"/>
                            <path d="M13.5 11.25C14.7426 11.25 15.75 10.2426 15.75 9C15.75 7.75736 14.7426 6.75 13.5 6.75C12.2574 6.75 11.25 7.75736 11.25 9C11.25 10.2426 12.2574 11.25 13.5 11.25Z" stroke="#8E24AA" stroke-width="1.75"/>
                          </svg>
                        <span class="font-normal text-purple lowercase">
                            {% if excursion.active_regions %}
                                {% for region_name in excursion.active_regions %}
                                    {{ region_name }}{% if not forloop.last %}, {% endif %}
                                {% endfor %}
                            {% else %}
                                No regions
                            {% endif %}
                        </span>
                    </div>

                    <div class="flex items-center mb-4">
                        <svg class="mr-1" width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12.14 0.5C11.9516 0.5 11.7633 0.50515 11.575 0.513906L11.6157 1.43991C11.7888 1.43167 11.9618 1.42704 12.14 1.42704C18.1871 1.42704 23.0838 6.38155 23.0838 12.5C23.0838 18.6185 18.1871 23.573 12.14 23.573C7.57922 23.573 3.67253 20.7558 2.02842 16.7438L3.43483 16.3163L0.969671 14.5498L0 17.3567L1.14783 17.0116C2.91054 21.3996 7.172 24.5 12.14 24.5C18.6859 24.5 24 19.1232 24 12.5C24 5.87682 18.6859 0.5 12.14 0.5ZM10.5722 0.605064C9.89523 0.695193 9.24369 0.841974 8.60742 1.0418L8.89247 1.92197C9.47275 1.73966 10.0785 1.60524 10.6944 1.52283L10.5722 0.605064ZM7.67084 1.38378C7.03966 1.64386 6.43902 1.95648 5.86893 2.317L6.35249 3.10034C6.87678 2.76867 7.4316 2.48077 8.01188 2.2418L7.67084 1.38378ZM5.03415 2.89485C4.49979 3.30012 4.00005 3.75012 3.54019 4.24009L4.20445 4.87253C4.62694 4.42086 5.09014 4.00678 5.57879 3.63339L5.33446 3.29502L5.03415 2.89485ZM8.57179 3.33674L8.34783 4.23494L19.3934 7.09228L19.6174 6.19614L8.57179 3.33674ZM2.87949 5.00644C2.46261 5.53176 2.08848 6.09828 1.76271 6.69056L2.55932 7.14378C2.86015 6.5927 3.20526 6.07253 3.59058 5.58326L2.87949 5.00644ZM9.37603 5.45966C9.17752 6.79871 9.51856 8.30258 10.0988 9.53863C10.4246 10.2288 10.8216 10.8365 11.2136 11.2794C11.4274 11.5215 11.6411 11.7069 11.8346 11.8408L11.5597 12.9326C11.3256 12.9532 11.0507 13.015 10.7453 13.1232C10.1905 13.3189 9.55419 13.6588 8.94337 14.1069C7.8439 14.9103 6.83606 16.0588 6.37794 17.3309L14.9039 19.5403C15.1024 18.2013 14.7614 16.6974 14.1811 15.4614C13.8554 14.7712 13.4583 14.1635 13.0664 13.7206C12.8526 13.4785 12.6388 13.2931 12.4454 13.1592L12.7203 12.0674C12.9493 12.0416 13.2293 11.985 13.5347 11.8768C14.0895 11.6811 14.7258 11.3412 15.3366 10.8931C16.4361 10.0897 17.4439 8.9412 17.902 7.6691L9.37603 5.45966ZM1.3102 7.60215C1.0389 8.22017 0.816458 8.8588 0.648484 9.52318L1.53824 9.73948C1.69247 9.13176 1.89659 8.54464 2.14651 7.97811L1.3102 7.60215ZM0.442842 10.5172C0.336458 11.1609 0.279958 11.8253 0.279958 12.5V12.5464L1.19618 12.5361V12.5C1.19618 11.8768 1.2481 11.2639 1.34634 10.6665L0.442842 10.5172ZM4.88653 17.9077L4.66257 18.8039L15.7082 21.6622L15.9321 20.7661L4.88653 17.9077Z" fill="#8E24AA"/>
                        </svg>
                        <span class="font-normal text-purple lowercase">
                            {% if excursion.duration_range %}
                                {{ excursion.duration_range }}
                            {% else %}
                                No duration
                            {% endif %}
                        </span>
                    </div>

                    <div class="flex justify-end mt-4">
                        {% if excursion.overall_rating %}
                            <div class="flex items-center">
                                <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                <span class="ml-1 text-sm font-medium text-gray-600">{{ excursion.overall_rating|floatformat:1 }}</span>
                            </div>
                        {% endif %}
                    </div>
                </div>
            </a>
        </div>
    {% empty %}
        <div class="text-center py-12">
            <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <h3 class="mt-2 text-sm font-medium text-gray-900">No excursions found</h3>
            {% if user.is_staff %}
            <div class="mt-6">
                <a href="{% url 'excursion_create' %}" class="inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                    <svg class="-ml-1 mr-2 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd" />
                    </svg>
                    Add New Excursion
                </a>
            </div>
            {% endif %}
        </div>
    {% endfor %}
</div>
